(function(t){function e(e){for(var r,a,o=e[0],l=e[1],c=e[2],h=0,d=[];h<o.length;h++)a=o[h],i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(r=!1)}r&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},s=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01c2":function(t,e,n){"use strict";var r=n("44b2"),i=n.n(r);i.a},"034f":function(t,e,n){"use strict";var r=n("64a9"),i=n.n(r);i.a},"35d1":function(t,e,n){"use strict";var r=n("d540"),i=n.n(r);i.a},"44b2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d"),n("d1e7"),n("bf40");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{dark:t.setTheme}},[n("v-container",{attrs:{fluid:""}},[n("v-switch",{staticClass:"switch",attrs:{color:"primary",label:t.selectedTheme},model:{value:t.goDark,callback:function(e){t.goDark=e},expression:"goDark"}}),n("Header",{attrs:{msg:"Cell Netowrk Viewer"}})],1),n("v-container",{attrs:{bg:"","grid-list-md":"",fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md7:""}},[n("Graph",{attrs:{cellData:this.loadedData}})],1),n("v-flex",{attrs:{md5:""}},[n("List",{attrs:{cellData:this.loadedData}})],1)],1),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md7:""}},[n("CellDetails")],1),n("v-flex",{attrs:{md5:""}},[n("GeneDetails")],1)],1)],1)],1)],1)},s=[],a=(n("96cf"),n("3b8d")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{md12:""}},[n("v-card",{attrs:{"max-height":"1300"}},[n("v-card-title",{staticClass:"justify-center"},[n("h2",{staticClass:"title"},[t._v("Cell Details View")]),n("v-spacer"),n("v-btn",{attrs:{medium:"",color:"red","justify-right":"",dark:""},on:{click:t.removeCellSelected}},[n("v-icon",{attrs:{dark:""}},[t._v("remove_circle")])],1)],1),n("v-card-text",[n("v-layout",{attrs:{row:""}},[t.cellSelectedExist&&t.geneDataExist(t.cellSelected[0])?n("v-flex",{attrs:{md12:"",sm12:""}},[n("v-layout",[n("v-flex",{attrs:{md12:""}},[n("v-select",{attrs:{items:t.sortOptions,label:"sort"},on:{input:t.sortBasedOnOption},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}})],1)],1),t.geneDataExist(t.cellSelected[0])?n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md6:"",sm6:""}},[n("h3",{staticClass:"sub-title"},[t._v(t._s(t.cellSelected[0]))]),n("v-list",{staticClass:"list"},t._l(t.currentCells[0],function(e,r){return n("v-list-item",{key:r,attrs:{dense:""},on:{click:function(n){return t.setGeneItem(e)}}},[n("span",[n("span",{staticClass:"index"},[t._v(t._s(e[2])+":")]),t._v("\n                      "+t._s(e[1])+"\n                    ")])])}),1)],1),2==t.cellSelected.length&&t.geneDataExist(t.cellSelected[1])?n("v-flex",{attrs:{md6:"",sm6:""}},[n("h3",{staticClass:"sub-title"},[t._v(t._s(t.cellSelected[1]))]),n("v-list",{staticClass:"list"},t._l(t.currentCells[1],function(e,r){return n("v-list-item",{key:r,attrs:{dense:""},on:{click:function(n){return t.setGeneItem(e)}}},[n("span",[n("span",{staticClass:"index"},[t._v(t._s(e[2])+":")]),t._v("\n                      "+t._s(e[1])+"\n                    ")])])}),1)],1):t._e()],1):t._e()],1):t._e()],1)],1)],1)],1)],1)},l=[],c=(n("55dd"),n("5698")),u={name:"cell-details",props:[],mounted:function(){this.fetchData()},data:function(){return{cardHighlight:!1,loadedGeneData:{},sortOptions:["default","magnitude"]}},methods:{sortBasedOnOption:function(t){if(0!=this.$store.getters.getCellDetails.length)switch(t){case"magnitude":console.log(this.geneCellCopy1),this.geneCellCopy1=this.geneCellCopy1.sort(function(t,e){Math.abs(t[1]),Math.abs(e[1])})}},cellSelectedExist:function(){return 0!==this.$store.getters.getCellSelected.length},fetchData:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["c"]("./top_abs_10_dict.json");case 2:e=t.sent,this.loadedGeneData=Object.assign({},e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),geneDataExist:function(t){return void 0!==this.loadedGeneData[t]},getDefaultCells:function(){var t=this.$store.getters.getCellSelected,e=[];return e.push(this.loadedGeneData[t[0]]),t.length>1&&e.push(this.loadedGeneData[t[1]]),e},sortCells:function(){var t=this.$store.getters.getCellSelected,e=[];return e.push(this.loadedGeneData[t[0]].concat().sort(function(t,e){return t[1]<e[1]?1:-1})),t.length>1&&e.push(this.loadedGeneData[t[1]].concat().sort(function(t,e){return t[1]<e[1]?1:-1})),e},removeCellSelected:function(){this.$store.dispatch("popFromCellSelected")},setGeneItem:function(t){this.$store.dispatch("changeGeneSelected",t[2])}},computed:{cellSelected:{get:function(){return this.$store.getters.getCellSelected}},currentCells:function(){return"default"===this.$store.getters.getOption?this.getDefaultCells():this.sortCells()},dynamicData:function(){return 0==this.geneCellCopy1.length?void 0:this.$store.getters.getCellDetails},option:{get:function(){return this.$store.getters.getOption},set:function(t){this.$store.dispatch("changeOption",t)}}},watch:{cellSelected:function(){var t=this.$store.getters.getCellSelected;this.$store.dispatch("changeCellDetails",[]),0!==t.length&&(this.geneCellCopy1=this.loadedGeneData[t[0]],this.$store.dispatch("addToCellDetails",this.geneCellCopy1),t.length>1&&(this.geneCellCopy2=this.loadedGeneData[t[1]],this.$store.dispatch("addToCellDetails",this.geneCellCopy2)))}}},h=u,d=(n("b679"),n("2877")),f=Object(d["a"])(h,o,l,!1,null,"2fe818bc",null),p=f.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{md12:"",center:""}},[n("h1",{staticClass:"view-title"},[t._v("ðŸ¦ "+t._s(t.msg)+"ðŸ§¬")])])],1)},v=[],m={name:"app-header",props:{msg:String}},C=m,y=Object(d["a"])(C,g,v,!1,null,"6c560743",null),E=y.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{md12:""}},[n("v-card",{attrs:{"max-height":"650"}},[n("v-card-title",{staticClass:"justify-center"},[n("h2",{staticClass:"title"},[t._v("Gene Details View")]),n("v-spacer"),n("v-btn",{attrs:{medium:"",color:"red","justify-right":"",dark:""},on:{click:t.removeGeneDetails}},[n("v-icon",{attrs:{dark:""}},[t._v("remove_circle")])],1)],1),n("v-card-text",[n("v-layout",{attrs:{row:"",wrap:""}},[t.geneNotEmpty()?n("v-flex",{attrs:{md12:""}},[n("v-select",{attrs:{items:t.sortOptions,label:"sort"},on:{input:t.sortBasedOnOption},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}}),n("h3",{staticClass:"sub-title"},[t._v("Gene: "+t._s(t.geneSelected))]),n("v-list",{staticClass:"list",class:{"max-height":t.listHeight}},t._l(t.filteredGeneCellList,function(e,r){return n("v-list-item",{key:r,on:{click:function(n){return t.setCellSelected(e[0])}}},[n("v-layout",[n("v-flex",{staticClass:"index",attrs:{md3:"","offset-md1":""}},[t._v(t._s(e[0])+":Â ")]),n("v-flex",{attrs:{md6:"","offset-md1":""}},[t._v(t._s(e[1]))])],1)],1)}),1)],1):t._e()],1)],1)],1)],1)],1)},x=[],D=n("768b"),L=(n("ac6a"),n("ffc1"),n("28a5"),n("a481"),{name:"gene-details",props:[],mounted:function(){this.fetchData()},data:function(){return{cellTypeNames:[],filteredList:[],listHeight:"400px",loadedDictData:{},sortOptions:["default","magnitude"]}},methods:{fetchData:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["c"]("./top_abs_10_dict.json");case 2:e=t.sent,this.loadedDictData=Object.assign({},e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),formatToId:function(t){return t.split(" ").join("-").split("(").join("").split(")").join("").replace(/\//g,"-")},geneNotEmpty:function(){return""!==this.geneSelected},removeGeneDetails:function(){this.$store.dispatch("changeGeneSelected","")},returnToDefaultList:function(){for(var t=[],e=this,n=0,r=Object.entries(this.loadedDictData);n<r.length;n++)for(var i=Object(D["a"])(r[n],2),s=i[0],a=i[1],o=a,l=0;l<o.length;l++)if(o[l][2]===e.geneSelected){var c=s,u=a[l][1];t.push([c,u])}return t},setCellSelected:function(t){var e=this.$store.getters.getCellSelected;e.length>1&&e.pop(),e.push(t),this.$store.dispatch("changeCellSelected",e)},sortBasedOnOption:function(){return this.filteredList.sort(function(t,e){return t[1]>e[1]?-1:1})},topGeneDataExist:function(t,e){return"undefined"!==typeof t[this.geneSelected]}},computed:{filteredGeneCellList:function(){return"default"===this.$store.getters.getGeneSearchOption?this.returnToDefaultList():this.sortBasedOnOption()},geneSelected:{get:function(){return this.$store.getters.getGeneSelected}},option:{get:function(){return this.$store.getters.getGeneSearchOption},set:function(t){this.$store.dispatch("changeGeneSearchOption",t)}}},watch:{geneSelected:function(){this.$store.dispatch("changeGeneSearchOption","default");var t=this;t.filteredList=[],this.$store.dispatch("changeTopGeneCellList",[]);for(var e=0,n=Object.entries(this.loadedDictData);e<n.length;e++)for(var r=Object(D["a"])(n[e],2),i=r[0],s=r[1],a=s,o=0;o<a.length;o++)if(a[o][2]===t.geneSelected){var l=i,c=s[o][1];t.filteredList.push([l,c]),t.$store.dispatch("addToTopGeneCellList",[l,c])}}}}),O=L,b=(n("01c2"),Object(d["a"])(O,S,x,!1,null,"2a481a4c",null)),w=b.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md12:""}},[n("v-card",{attrs:{"max-height":"450"}},[n("v-card-title",{staticClass:"justify-center"},[n("h4",{staticClass:"view-title"},[t._v("Graph View")])]),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-card-text",[t.cellType1?n("v-chip",{staticClass:"ma-2"},[t._v(t._s(t.cellType1))]):t._e(),t.cellType2?n("v-chip",{staticClass:"ma-2"},[t._v(t._s(t.cellType2))]):t._e(),n("div",{ref:"graph",attrs:{id:"graph"}})],1)],1)],1)],1)],1)},G=[],k=(n("6b54"),n("386d"),n("3b2b"),n("5df3"),n("4f7f"),n("2ef0")),$=n.n(k),j=(n("7f7f"),n("75fc")),P=(n("6762"),n("2fdb"),n("b0b4")),A=n("d225");function I(t){if(!t.length)return 0;var e=t.reduce(function(t,e){return e+t}),n=e/t.length;return n}function N(t){return t.length?t.reduce(function(t,e){return e+t}):0}function H(t){for(var e=Array(t),n=0;n<e.length;n++)e[n]=[];return e}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.getLevels();function i(t,r){t.primaryParent||console.log("node ".concat(t.index," ").concat(t.name," no primary parent"));var i=t.primaryParent.levelIdx,s=r.primaryParent.levelIdx;if(i!=s)return i-s;if(e>1)if(t.parents.length>1||r.parents.length>1){var a=I(t.parents.map(function(t){return t.levelIdx})),o=I(r.parents.map(function(t){return t.levelIdx}));if(a!=o)return a-o}else if(n>5&&1==t.children.length&&1==r.children.length){var l=t.children[0],c=r.children[0];while(1==l.children.length&&1==c.children.length)l=l.children[0],c=c.children[0];var u=l.levelIdx,h=c.levelIdx;return u-h}if(e>2&&t.dalevel.length&&r.dalevel.length){var d=I(t.dalevel.map(function(t){return t.levelIdx})),f=I(r.dalevel.map(function(t){return t.levelIdx}));if(d!=f)return d-f}return 0}var s=0;r.forEach(function(t,e){e>0&&t.sort(i),t.forEach(function(t,e){t.levelIdx=e,t.index=s++})}),t.nodes.sort(function(t,e){return t.index-e.index}),t.nodes.forEach(function(t){return t.primaryChildren.sort(function(t,e){return t.index-e.index})}),t.nodes.forEach(function(t){return t.children.sort(function(t,e){return t.index-e.index})})}var M=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(A["a"])(this,t),this.name=e,this.height="height"in n?n.height:10,this.width="width"in n?n.width:10,this.parents=[],this.children=[],this.istree=void 0,this.index=void 0,this.phantom=!1,this.depth=-1,this.longest=-1,this.levelIdx=void 0,this.ancestors=new Set,this.descendentAncestors=new Set,this.dalevel=[],this.levelrank=void 0,this.x=void 0,this.y=void 0,this.primaryParent=void 0,this.primaryChildren=[],this.grandkidIndex=void 0,this.twidth=void 0},V=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(A["a"])(this,t),this.source=e,this.target=n,this.color=r,this.value=i},B=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object(A["a"])(this,t),this.nodes=e,this.links=n,this.constraints=r,this.groups=i,this.analysis=void 0}return Object(P["a"])(t,[{key:"roots",value:function(){return this.nodes.filter(function(t){return!t.parents.length})}},{key:"leaves",value:function(){return this.nodes.filter(function(t){return!t.children.length})}},{key:"breadthFirst",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=this.roots();while(r.length){var i=r.shift();n.push(t(i)),i.children.forEach(function(t){e&&r.includes(t)||r.push(t)})}return n}},{key:"getLevels",value:function(){var t=this.nodes,e=Math.max.apply(Math,Object(j["a"])(t.map(function(t){return t.longest}))),n=H(e);return t.forEach(function(t){return n[t.longest-1].push(t)}),n.forEach(function(t){return t.forEach(function(t,e){return t.levelIdx=e})}),n}},{key:"orderNodes",value:function(){var t=0,e=[],n=this.nodes.filter(function(t){return!t.primaryParent});while(n.length){var r=n.shift();r.index=t++,e.push(r),r.primaryChildren.forEach(function(t){return n.push(t)})}this.nodes=e}},{key:"describe",value:function(){var t={};this.nodes.forEach(function(e){var n=e.parents.length;t[n]?t[n]++:t[n]=1})}},{key:"hierarchy",value:function(){var t,e=this.roots();function n(t){t.children=[],t.nchildren.forEach(function(e){var r={name:e.name,node:e,nchildren:e.primaryChildren};t.children.push(r),n(r)})}return t=1==e.length?{name:e[0].name,node:e[0],nchildren:e[0].primaryChildren}:{name:"Fake Root",node:void 0,nchildren:e},n(t),t}}]),t}();function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",n="[";return t.forEach(function(t){return n+=t[e]+" "}),n+="]",n}function z(t){var e=t.links.filter(function(t){return t.target.longest-t.source.longest>1}),n=t.links.filter(function(t){return t.target.longest-t.source.longest==1});t.oldLinks=t.links,e.forEach(function(e,r){e.target.parents.splice(e.target.parents.indexOf(e.source),1),e.source.children.splice(e.source.children.indexOf(e.target),1);for(var i=e.source,s=e.source.longest+1;s<e.target.longest;s++){var a=new M("connector-".concat(r,"-").concat(s));a.phantom=!0,a.parents.push(i),a.longest=s,a.depth=e.source.depth+1,a.istree=!1,i.children.push(a),t.nodes.push(a),n.push(new V(i,a)),i=a}e.target.parents.push(i),i.children.push(e.target),n.push(new V(i,e.target))}),t.links=n}function U(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.roots(),r=[];n.forEach(function(t){t.depth=1,r.push(t)});var i=function(){var t=r.shift();t.children.forEach(function(e){e.depth<1&&(e.depth=t.depth+1,r.push(e))})};while(r.length)i();r=[],n.forEach(function(t){t.longest=1,r.push(t)});var s=function(){var t=r.shift(),e=t.longest+1;t.children.forEach(function(t){t.longest<e&&(t.longest=e,r.push(t))})};while(r.length)s();function a(t){if(void 0!=t.istree)return t.istree;var e=!0;return t.children.forEach(function(t){(!a(t)||t.parents.length>1)&&(e=!1)}),t.istree=e,e}t.nodes.forEach(function(t){return a(t)}),e&&z(t),t.nodes.forEach(function(t,e){return t.index=e});var o=t.getLevels();t.breadthFirst(function(t){t.children.forEach(function(e){t.ancestors.forEach(function(t){return e.ancestors.add(t)}),e.ancestors.add(t)})});for(var l=o.length-1;l>=0;l--){var c=o[l];c.forEach(function(t){t.children.forEach(function(e){e.ancestors.forEach(function(e){return t.descendentAncestors.add(e)}),e.descendentAncestors.forEach(function(e){return t.descendentAncestors.add(e)})})})}t.nodes.forEach(function(t){t.dalevel=Object(j["a"])(t.descendentAncestors).filter(function(e){return e.longest==t.longest})})}function J(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=s.nodeRadius||4.5,o=s.bezierVert||15,l=s.height||1035,u=Math.max.apply(Math,Object(j["a"])(t.nodes.map(function(t){return t.x})))+a,h=c["d"](r).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(u," ").concat(l+20)).call(c["f"]().on("zoom",function(){h.attr("transform",c["a"].transform)})).append("g");function d(t,e,n,r){var i=o;return"C".concat(t,",").concat(e+a+i,",").concat(n,",").concat(r-a-i,",").concat(n,",").concat(r-a)}function f(t){return t.split(" ").join("-").split("(").join("").split(")").join("").replace(/\//g,"-")}function p(t){return"path-"+f(t["source"]["name"])+"---"+f(t["target"]["name"])}function g(t){return t.phantom?"phantom-"+f(t.name):"circle-"+f(t.name)}function v(){var t=c["d"](this);t.attr("r",2*a);var e=n("7bac");(new e.Tooltip).data([{name:t.attr("name")}]).thead([function(t){return t.name}]).position("#"+t.attr("id")).render()}function m(){c["d"](this).attr("r",a),c["d"](".d3plus-tooltip").remove()}function C(){i.selectedCellName=c["d"](this).attr("name")}function y(t){return t.phantom?"phantom":"cell"}function E(t){return t.phantom?"#42b98300":(t.istree,"#faed27")}function _(t){return t.name}function S(t){return t.phantom?"none":"#000"}e=h.selectAll(".link").data(t.links.filter(function(t){return!t.source.phantom})).enter().append("svg:path").attr("id",p).attr("stroke-width",.75).attr("fill","none").attr("d",function(t){var e=t.source.x,n=t.source.y+a,r="M".concat(e,",").concat(n),i=t.target;while(i.phantom){var s=i.x,o=i.y;r+=d(e,n,s,o),r+="L".concat(s,",").concat(o+a),i=i.children[0],e=s,n=o}var l=i.x,c=i.y;return r+=d(e,n,l,c),r}),e.style("stroke",function(t){return t.color}).attr("class","link"),e.on("mouseover",function(){c["d"](this).style("stroke","#FF6F61")}),e.on("mouseout",function(t){c["d"](this).style("stroke",t.color)});var x=h.selectAll(".node").data(s.drawPhantoms?t.nodes:t.nodes.filter(function(t){return!t.phantom})).enter().append("circle").attr("name",_).attr("id",g).attr("class",y).attr("r",a).style("fill",E).style("stroke",S).style("stroke-width",.5).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y});x.filter(".cell").on("mouseover",v).on("mouseout",m).on("click",C),x.append("title").text(function(t){return"".concat(t.index,":").concat(t.name," ").concat(F(t.dalevel,"index")," tw:").concat(t.twidth)})}n("456d");function Y(t){var e=Object.keys(t).map(function(t){return new M(t)}),n={};e.forEach(function(t){n[t.name]=t}),e.forEach(function(t,e){return t.index=e});var r=[],i=function(e){t[e].forEach(function(t){var i=n[e],s=n[t];if(i||console.log("Bad node ".concat(e," as source")),s||console.log("Bad node ".concat(t," as target")),i&&s){var a=new V(i,s);r.push(a),i.children.push(s),s.parents.push(i)}})};for(var s in t)i(s);return new B(e,r)}function q(t){t.nodes.forEach(function(t){t.primaryParent=void 0;var e=0;t.parents.forEach(function(n){var r=n.children.length;r>e&&(e=r,t.primaryParent=n)})}),t.nodes.forEach(function(t){return t.primaryChildren=[]}),t.nodes.forEach(function(t){t.primaryParent&&t.primaryParent.primaryChildren.push(t)})}function K(t){var e=50,n=65,r=5,i=2,s=2;function a(t){return s+(t.phantom?i:r)}function o(t){return s+2*(t.phantom?i:r)}for(var l=t.getLevels(),c=l.length-1;c>=0;c--){var u=l[c];u.forEach(function(t){t.twidth=Math.max(o(t),N(t.primaryChildren.map(function(t){return t.twidth})))})}l.forEach(function(t,i){var s=r;t.forEach(function(t){t.x=Math.max(s+a(t),t.primaryParent?t.primaryParent.x:0),t.y=e+i*n,s=t.x-a(t)+t.twidth})});for(var h=t.nodes.length-1;h>=0;h--){var d=t.nodes[h];if(d.primaryChildren.length){var f=I(d.primaryChildren.map(function(t){return t.x})),p=t.nodes[h+1];if(p.longest==d.longest){var g=p.x-a(d)-a(p)+s;d.x=Math.min(g,f)}else d.x=f}}}var Q={name:"cell-graph",props:{cellData:Object},mounted:function(){},data:function(){return{cellType1:"",cellType2:"",keyValueDict:{},selectedCellName:"",listLocalCopy:[],listSize:2,loaded:!1,pathsDict:{}}},methods:{formatToId:function(t){return t.split(" ").join("-").split("(").join("").split(")").join("").replace(/\//g,"-")},generateListCopy:function(t){return Object.entries($.a.cloneDeep(t))},highlightSearch:function(t,e){var n=c["d"](e).select("svg");if(n.selectAll(".cell").style("opacity","1.0"),0!==t.length&&""!==this.$store.getters.getSearch){for(var r=new Set,i=0;i<t.length;i++)r.add(t[i][0]);for(var s=0;s<t.length;s++){for(var a=t[s][0],o=this.keyValueDict[a],l=0;l<o.length;l++)r.has(o[l])||(n.select("#path-"+this.formatToId(o[l])+"---"+this.formatToId(a)).transition().style("opacity","0.1"),n.select("#path-"+this.formatToId(a)+"---"+this.formatToId(o[l])).transition().style("opacity","0.1"));n.select("#circle-"+this.formatToId(t[s][0])).transition().style("opacity","0.25")}}},showGraph:function(){var t=Y(this.cellData);U(t),q(t);for(var e=0;e<20;e++)R(t,3,e);t.links.forEach(function(t){return t.color=t.target.primaryParent==t.source?"#42b983":"666"}),K(t),J(t,this.$refs.graph,this)}},computed:{cellSelected:{get:function(){return this.$store.getters.getCellSelected}},filteredData:function(){if(""===this.$store.getters.getSearch)return this.listLocalCopy;var t=new RegExp(this.search,"i");return this.listLocalCopy.filter(function(e){return t.test(e[0])||t.test(e[1])})},filteredDataReverse:function(){if(""===this.$store.getters.getSearch)return[];var t=new RegExp(this.search,"i");return this.listLocalCopy.filter(function(e){return!(t.test(e[0])||t.test(e[1]))})},topGeneCellList:{get:function(){return this.$store.getters.getTopGeneCellList}},search:{get:function(){return this.$store.getters.getSearch},set:function(t){return this.$store.dispatch("changeSearch",t)}}},watch:{cellData:function(){var t=this;this.loaded=!0,this.listLocalCopy=this.generateListCopy(this.cellData);var e=Object.entries(this.listLocalCopy);e.forEach(function(e){t.keyValueDict[e[1][0]]=e[1][1]}),console.log(this.keyValueDict);for(var n=0;n<this.listLocalCopy.length;n++)this.listLocalCopy[n].push(n.toString());this.showGraph()},cellSelected:function(){var t=this.$store.getters.getCellSelected;this.cellType1="",this.cellType2="",1==t.length?this.cellType1=t[0]:2==t.length&&(this.cellType1=t[0],this.cellType2=t[1]);var e=c["d"](this.$refs.graph).select("svg");e.selectAll(".cell").transition().style("fill","#faed27");for(var n=0;n<t.length;n++){var r=c["d"](this.$refs.graph).select("svg");r.select("#circle-"+this.formatToId(t[n])).transition().style("fill","#f33")}},filteredData:function(){this.highlightSearch(this.filteredDataReverse,this.$refs.graph)},selectedCellName:function(){var t=this.$store.getters.getCellSelected;while(t.length>=this.listSize)t.pop();t.push(this.selectedCellName),this.$store.dispatch("changeCellSelected",t)},topGeneCellList:function(){var t=c["d"](this.$refs.graph).select("svg"),e=c["d"](this.$refs.graph).select("svg");t.selectAll(".cell").transition().style("stroke","none");for(var n=this.$store.getters.getTopGeneCellList,r=0;r<n.length;r++)e.select("#circle-"+this.formatToId(n[r][0])).transition().style("stroke","#000").style("stroke-width","2px")}}},W=Q,X=(n("d3e7"),Object(d["a"])(W,T,G,!1,null,"1e3739cc",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{md12:""}},[n("v-card",{attrs:{"max-height":"450"}},[n("v-card-title",{staticClass:"justify-center"},[n("h4",{staticClass:"view-title"},[t._v("List View")])]),n("v-card-text",[n("v-layout",[n("v-flex",{attrs:{md6:"",sm12:""}},[n("v-select",{attrs:{items:t.sortOptions,label:"sort"},on:{input:t.sortBasedOnOption},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}})],1),n("v-flex",{attrs:{md6:"",sm12:""}},[n("v-text-field",{attrs:{"append-icon":"search",label:"search","single-line":"","hide-details":"","hide-no-data":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("v-layout",{staticClass:"list",class:{"max-height":t.listHeight},attrs:{row:"",wrap:""}},[t.loaded&&t.listLocalCopy?n("v-flex",{attrs:{md12:""}},[n("v-list",t._l(t.filteredData,function(e,r){return n("v-list-item",{key:r,staticClass:"list",on:{click:function(n){return t.setCellSelected(e[0])}}},[n("v-layout",[e[0]&&e[1]?n("v-flex",{staticClass:"index",attrs:{md3:"","offset-md1":""}},[t._v(t._s(e[0])+":Â ")]):t._e(),e[1]?n("v-flex",{attrs:{md6:"","offset-md1":""}},t._l(e[1],function(r,i){return n("v-list",{key:i,attrs:{dense:""}},[i===e[1].length-1?n("span",[t._v(t._s(r))]):n("span",[t._v(t._s(r)+",")])])}),1):t._e()],1)],1)}),1)],1):t._e()],1)],1)],1)],1)],1)},et=[],nt={name:"cell-list",props:{cellData:Object},mounted:function(){},data:function(){return{cardHeight:this.$store.getters.getCardHeight,detailItem:[],listHeight:"400px",listLocalCopy:[],listSize:2,loaded:!1,sortOptions:["default","neighbors"]}},methods:{setCellSelected:function(t){var e=this.$store.getters.getCellSelected;while(e.length>=this.listSize)e.pop();e.push(t),this.$store.dispatch("changeCellSelected",e)},generateListCopy:function(t){return Object.entries(_.cloneDeep(t))},sortBasedOnOption:function(t){switch(this.$store.dispatch("changeOption",String(t)),this.listLocalCopy=this.generateListCopy(this.cellData),t){case"neighbors":this.listLocalCopy=this.listLocalCopy.sort(function(t,e){return t[1].length<e[1].length?1:-1});break}},test:function(t){console.log("This click works")}},computed:{filteredData:function(){if(""===this.$store.getters.getSearch)return this.listLocalCopy;var t=new RegExp(this.search,"i");return this.listLocalCopy.filter(function(e){return t.test(e[0])||t.test(e[1])})},option:{get:function(){return this.$store.getters.getOption},set:function(t){this.$store.dispatch("changeOption",t)}},search:{get:function(){return this.$store.getters.getSearch},set:function(t){this.$store.dispatch("changeSearch",t)}}},watch:{cellData:function(){this.loaded=!0,this.listLocalCopy=this.generateListCopy(this.cellData)}}},rt=nt,it=(n("35d1"),Object(d["a"])(rt,tt,et,!1,null,"984ed1d8",null)),st=it.exports,at={name:"app",components:{Header:E,Graph:Z,List:st,CellDetails:p,GeneDetails:w},mounted:function(){this.fetchData()},data:function(){return{loadedData:{},goDark:!0,search:""}},methods:{fetchData:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["c"]("./cell_type_graph.json");case 2:e=t.sent,this.loadedData=Object.assign({},e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},computed:{selectedTheme:function(){return this.goDark?"Dark Theme":"Light Theme"},setTheme:function(){return 1==this.goDark?this.$vuetify.theme.dark=!0:this.$vuetify.theme.dark=!1}}},ot=at,lt=(n("034f"),Object(d["a"])(ot,i,s,!1,null,null,null)),ct=lt.exports,ut=n("415c"),ht=n.n(ut),dt=n("ce5b"),ft=n.n(dt),pt=n("2f62");r["default"].use(pt["a"]);var gt={cellDetails:[],cellSelected:[],cellSelectedPrevious:"",topGeneCellList:[],topGeneCellListPrevious:[],geneSearchOption:"default",geneSelected:"",optionSelected:"default",search:""},vt={ADD_TO_CELL_DETAILS:function(t,e){t.cellDetails.push(e)},CHANGE_CELL_DETAILS:function(t,e){t.cellDetails=e},ADD_TO_CELL_SELECTED:function(t,e){t.cellSelected.push(e)},CHANGE_CELL_SELECTED:function(t,e){t.cellSelected=e},POP_FROM_CELL_SELECTED:function(t){t.cellSelected.pop()},ADD_TO_TOP_GENE_CELL_LIST:function(t,e){t.topGeneCellList.push(e)},CHANGE_TOP_GENE_CELL_LIST:function(t,e){t.topGeneCellList=e},CHANGE_TOP_GENE_CELL_LIST_PREVIOUS:function(t,e){t.topGeneCellListPrevious=e},CHANGE_CELL_SELECTED_PREVIOUS:function(t,e){t.cellSelectedPrevious=e},CHANGE_GENE_SEARCH_OPTION:function(t,e){t.geneSearchOption=e},CHANGE_GENE_SELECTED:function(t,e){t.geneSelected=e},CHANGE_SEARCH:function(t,e){t.search=e},CHANGE_OPTION:function(t,e){t.optionSelected=e}},mt={addToCellDetails:function(t,e){t.commit("ADD_TO_CELL_DETAILS",e)},changeCellDetails:function(t,e){t.commit("CHANGE_CELL_DETAILS",e)},addToCellSelected:function(t,e){t.commit("ADD_TO_CELL_SELECTED",e)},changeCellSelected:function(t,e){t.commit("CHANGE_CELL_SELECTED",e)},popFromCellSelected:function(t){t.commit("POP_FROM_CELL_SELECTED")},addToTopGeneCellList:function(t,e){t.commit("ADD_TO_TOP_GENE_CELL_LIST",e)},changeTopGeneCellList:function(t,e){t.commit("CHANGE_TOP_GENE_CELL_LIST",e)},changeTopGeneCellListPrevious:function(t,e){t.commit("CHANGE_TOP_GENE_CELL_LIST_PREVIOUS",e)},changeCellSelectedPrevious:function(t,e){t.commit("CHANGE_CELL_SELECTED_PREVIOUS",e)},changeGeneSearchOption:function(t,e){t.commit("CHANGE_GENE_SEARCH_OPTION",e)},changeGeneSelected:function(t,e){t.commit("CHANGE_GENE_SELECTED",e)},changeSearch:function(t,e){t.commit("CHANGE_SEARCH",e)},changeOption:function(t,e){t.commit("CHANGE_OPTION",e)}},Ct={getCellDetails:function(t){return t.cellDetails},getCellSelected:function(t){return t.cellSelected},getTopGeneCellList:function(t){return t.topGeneCellList},getTopGeneCellListPrevious:function(t){return t.topGeneCellListPrevious},getCellSelectedPrevious:function(t){return t.cellSelectedPrevious},getGeneSearchOption:function(t){return t.geneSearchOption},getGeneSelected:function(t){return t.geneSelected},getSearch:function(t){return t.search},getOption:function(t){return t.optionSelected}},yt=new pt["a"].Store({state:gt,mutations:vt,actions:mt,getters:Ct});r["default"].config.productionTip=!1;var Et={name:"lodash"};r["default"].use(ht.a,Et);var _t={iconfont:"md",theme:{dark:!0,themes:{dark:{primary:"#42b983",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"},light:{primary:"#42b983",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}};r["default"].use(ft.a),new r["default"]({render:function(t){return t(ct)},store:yt,vuetify:new ft.a(_t)}).$mount("#app")},"64a9":function(t,e,n){},9703:function(t,e,n){},b679:function(t,e,n){"use strict";var r=n("f15a"),i=n.n(r);i.a},d3e7:function(t,e,n){"use strict";var r=n("9703"),i=n.n(r);i.a},d540:function(t,e,n){},f15a:function(t,e,n){}});
//# sourceMappingURL=app.72c73358.js.map